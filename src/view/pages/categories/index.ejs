<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title><%= title %></title>
	<script src="https://cdn.tailwindcss.com"></script>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
	<style>
		body { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial; }
	</style>
</head>
<body class="bg-slate-50 text-slate-900">
	<header class="border-b bg-white">
		<nav class="max-w-6xl mx-auto px-4 h-16 flex items-center justify-between">
			<a href="/" class="font-semibold text-slate-900">FinTrack</a>
			<div class="flex items-center gap-3">
				<a href="/" class="text-sm <%= (typeof path !== 'undefined' && path === '/') ? 'text-slate-900 font-medium' : 'text-slate-600 hover:text-slate-900' %>">Dashboard</a>
				<a href="/transactions" class="text-sm <%= (typeof path !== 'undefined' && path.startsWith('/transactions')) ? 'text-slate-900 font-medium' : 'text-slate-600 hover:text-slate-900' %>">Transactions</a>
				<a href="/categories" class="text-sm <%= (typeof path !== 'undefined' && path.startsWith('/categories')) ? 'text-slate-900 font-medium' : 'text-slate-600 hover:text-slate-900' %>">Categories</a>
				<a href="/budgets" class="text-sm <%= (typeof path !== 'undefined' && path.startsWith('/budgets')) ? 'text-slate-900 font-medium' : 'text-slate-600 hover:text-slate-900' %>">Budgets</a>
				<a href="/goals" class="text-sm <%= (typeof path !== 'undefined' && path.startsWith('/goals')) ? 'text-slate-900 font-medium' : 'text-slate-600 hover:text-slate-900' %>">Saving Goals</a>
				<% if (user) { %>
					<a href="/profile" class="text-sm <%= (typeof path !== 'undefined' && path.startsWith('/profile')) ? 'text-slate-900 font-medium' : 'text-slate-600 hover:text-slate-900' %>">Profile</a>
					<% if (!emailVerified) { %>
						<a href="/verify" class="text-sm text-amber-600 hover:text-amber-700">Verify Email</a>
					<% } %>
					<form action="/logout" method="post" class="inline-block">
						<button class="text-sm text-slate-600 hover:text-slate-900">Logout</button>
					</form>
				<% } else { %>
					<a href="/login" class="text-sm text-slate-600 hover:text-slate-900">Login</a>
					<a href="/register" class="text-sm text-slate-600 hover:text-slate-900">Register</a>
				<% } %>
			</div>
		</nav>
	</header>
	<main class="max-w-6xl mx-auto px-4 py-8">
		<div class="flex items-center justify-between mb-6">
			<h1 class="text-2xl font-semibold text-slate-900"><%= title %></h1>
			<a href="/categories/new" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 font-medium">
				+ Add New Category
			</a>
		</div>

		<% if (categories.length === 0) { %>
			<div class="bg-white rounded-lg shadow-sm border p-8 text-center">
				<div class="text-slate-400 mb-4">
					<svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
					</svg>
				</div>
				<h3 class="text-lg font-medium text-slate-900 mb-2">No categories yet</h3>
				<p class="text-slate-600 mb-4">Create your first category to organize your transactions.</p>
				<a href="/categories/new" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 font-medium">
					Create Category
				</a>
			</div>
		<% } else { %>
			<div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
				<% categories.forEach(function(category) { %>
					<div class="bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow">
						<div class="flex items-center justify-between mb-4">
							<div class="flex items-center gap-3">
								<div class="w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-medium bg-slate-500">
									<%= category.name.charAt(0).toUpperCase() %>
								</div>
								<div>
									<h3 class="font-medium text-slate-900"><%= category.name %></h3>
									<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium <%= category.type === 'income' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800' %>">
										<%= category.type === 'income' ? 'Income' : 'Expense' %>
									</span>
								</div>
							</div>
						</div>
						
						<div class="flex gap-2">
							<a href="/categories/<%= category.id %>/edit" class="flex-1 text-center bg-slate-100 text-slate-700 px-3 py-2 rounded-md hover:bg-slate-200 text-sm font-medium">
								Edit
							</a>
							<% if (!category.isDefault) { %>
								<form action="/categories/<%= category.id %>/delete" method="POST" class="flex-1">
									<button type="submit" class="w-full text-center bg-red-100 text-red-700 px-3 py-2 rounded-md hover:bg-red-200 text-sm font-medium" 
											onclick="return confirm('Are you sure you want to delete this category?')">
										Delete
									</button>
								</form>
							<% } %>
						</div>
					</div>
				<% }); %>
			</div>
		<% } %>
	</main>
	<footer class="border-t bg-white">
		<div class="max-w-6xl mx-auto px-4 py-6 text-sm text-slate-500 flex items-center justify-between">
			<span>FinTrack</span>
			<span>&copy; <%= new Date().getFullYear() %></span>
		</div>
	</footer>
</body>
</html>